<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>IP Assignment</title>
</head>
<body>
    <section id="title">
                <div>
                    <img src="images/title.svg" alt="title" id="titleimg" draggable="false">
                    <input type="checkbox" id="startgame">
                    <label for="startgame" class="glow">- Click to Start -</label>

                    <div id="lesserbuttons">
                        <input type="checkbox" id="collectionbtn">
                        <label for="collectionbtn"><img src="images/collection.svg" alt="Collection" class="lesserbutton" draggable="false"></label>
                        
                        <input type="checkbox" id="archivesbtn">
                        <label for="archivesbtn"><img src="images/archives.svg" alt="Archives" draggable="false" class="lesserbutton"></label>
                    </div>

                    <footer>A game by Kiwikomori</footer>
                </div>
    </section>

    <section id="collection">
        <div id="collectionBack"> 
            <input type="checkbox" id="back" >
            <label for="back" class="backStyle">Back</label>
        </div> <!-- back button-->
        <div id="collectionContent">

            <div id="collectionMain">
                <!--shelf image-->
                <img src="images/collection_shelf.svg" alt="shelf" id="collectionShelf" draggable="false">
            
                <!--Camera preview, not blacked out-->
                <div class="cameraPosition" id="cameraPreview">
                    <img src="images/estellaCamera.svg" alt="estellaCamera" draggable="false" id="estellaCamera" class="estellaCamera">
                    <img src="images/osumiCamera.svg" alt="osumiCamera" draggable="false" id="osumiCamera" class="osumiCamera">
                </div>

                <!--REMEMBER TO UNCOMMENT THIS ONLY TAKE OUT SILOETTE WHEN BEATEN A LEVEL-->
                <!--Camera siloette, blacked out
                <div class="cameraPosition" id="cameraSiloette">
                    <img src="images/estellaCameraSil.svg" alt="estellaCamera" draggable="false" id="estellaCameraSil" class="estellaCamera">
                    <img src="images/osumiCameraSil.svg" alt="osumiCamera" draggable="false" id="osumiCameraSil" class="osumiCamera">
                </div>-->

            </div> <!-- collectionMain-->

            <!-- 3D model viewer popup-->
             <div id="viewerGroup">
                <!-- Exit viewer button-->
                <div id="exitViewerButton"><img src="images/exitIcon.svg" alt="exitViewer"></div> 
                <div id="viewerContainer">
                    <!-- Estella's camera model-->
                    <model-viewer alt="cameraEstella" src="models/antiqueCamera.glb" shadow-intensity="1" camera-controls id="estellaCamModel" class="modelViewer"></model-viewer>
                    <!--Osumi's camera model-->
                    <model-viewer alt="cameraOsumi" src="models/camera.glb" shadow-intensity="1" camera-controls id="osumiCamModel" class="modelViewer"></model-viewer>
                </div> 
             </div>


        </div> <!-- collection content-->
    </section>

    <section id="archives">
        <div class="blur">
            <div class="scrollable">
                    <input type="checkbox" id="back">
                    <label for="back" class="backStyle">Back</label>

                    <div><img src="images/divider.svg" alt="archivesDivider" id="divider" draggable="false"></div>

                    <div class="textblock">

                        <!-- About Us-->
                        <p class="archiveHeader" style="text-align: center;">About Kiwikomori!</p>
                        <p class="archiveText">Kiwikomori is an independent game development team known for creating immersive and atmospheric games that blend narrative depth with unique visual styles. Founded by a passionate solo developer, Kiwikomori has gained recognition for its ability to craft engaging experiences that resonate with players on an emotional level.<br><br>
                        The studio's games often explore themes of isolation, self-discovery, and the human condition, drawing players into richly detailed worlds filled with memorable characters and thought-provoking stories. Kiwikomori's commitment to quality and innovation has earned it a dedicated fanbase and critical acclaim within the indie game community.</p>

                        <div><img src="images/divider.svg" alt="archivesDivider" id="divider" draggable="false"></div>

                        <!-- Character Bios-->
                        <p class="archiveHeader" style="text-align: center;">Characters</p>

                        <!-- Osumi -->
                        <div class="charBio">                            
                                <img src="images/characters/osumi_2.png" alt="Osumi" draggable="false">
                                <div>
                                <p class="charName">Osumi</p>
                                <p>She is lively and endlessly chatty, yet carries the quiet depth of someone who has seen much of the world. As a former freelance photojournalist, her camera once traveled with her through protests, festivals, and fragile moments of human resilience.<br><br>
                                After years of constant use through long days, rough travel, and countless shutter clicks, the aging mechanism finally gave way, its internal parts worn down beyond their limits. To her, repairing it is about preserving the memories it captured and holding on to the chapters of her life that live within its lens.
                                </p>
                            </div>
                        </div>

                        <!-- Estella -->
                        <div class="charBio">
                                <img src="images/characters/estella_1.png" alt="Estella" draggable="false">
                                <div>
                                <p class="charName">Estella</p>
                                <p>She is a quiet, introspective witch who studies magic with patience and precision. Her enchanted camera was attuned to capture traces of arcane energy invisible to the naked eye, allowing her to document spell residues and rare magical phenomena. Over time, it became both her primary research tool and the archive of her discoveries.<br><br>
                                Years of exposure to powerful spells and unstable magic fields gradually corrupted its delicate mechanisms, distorting images before the device finally failed. She now seeks to repair it, hoping to recover the vital research and hidden knowledge stored within.
                                </p>
                            </div>
                        </div> 

                        <!-- Flaffle -->
                        <div class="charBio">
                                <img src="images/characters/flaffle_1.png" alt="Flaffle" draggable="false">
                                <div>
                                <p class="charName">Flaffle</p>
                                <p>She is lively and endlessly chatty, yet carries the quiet depth of someone who has seen much of the world. As a former freelance photojournalist, her camera once traveled with her through protests, festivals, and fragile moments of human resilience.<br><br>
                                After years of constant use through long days, rough travel, and countless shutter clicks, the aging mechanism finally gave way, its internal parts worn down beyond their limits. To her, repairing it is about preserving the memories it captured and holding on to the chapters of her life that live within its lens.
                                </p>
                            </div>
                        </div>

                    <!-- Locked overlay -->
                        <div id="lockedOverlay">
                            <div class="stickyContainer">
                                <div class="lockedSticky">
                                    <img class="archiveLock" src="images/archiveLock.svg" alt="lock_image" draggable="false">
                                    <p class="lockedText">Complete the game to unlock character lore</p>
                                </div>
                            </div>
                        </div>
                    </div> <!-- textblock-->
            </div> <!-- scrollable-->
        </div> <!-- blur-->
    </section>

    <main id="game">
        <nav id="navi">
            <!-- navigation here -->
            <button type="button" onClick="go('left')" id="navLeft"><img src="images/gameAssets/leftArrow.svg"draggable="false"></button>
            <button type="button" onClick="go('right')" id="navRight"><img src="images/gameAssets/rightArrow.svg" draggable="false"></button>
            <button type="button" onClick="exitBackrooms()" id="navBack"><img src="images/gameAssets/downArrow.svg" draggable="false"></button>
        </nav>

        <div id="room">
            <!-- NORTH ROOM -->
            <section id="north" class="room active">
                <img src="images/gameAssets/rooms/north/northScene.png" alt="northScene" draggable="false">
                <img src="images/characters/osumi_1.png" alt="osumi1" id="osumi" onClick="osumichange()" draggable="false">
                <div id="counterShadow"></div>
                <img src="images/gameAssets/rooms/north/northCounter.svg" alt="counter" id="northCounter" draggable="false" onClick="switchPOV()">
            </section>

            <!-- EAST ROOM -->
            <section id="east" class="room">
                <img src="images/gameAssets/rooms/east/eastScene.svg" alt="eastScene" draggable="false">
            </section>

            <!-- SOUTH ROOM -->
            <section id="southFront" class="room">
                <img src="images/gameAssets/rooms/south/southSceneFront.svg" alt="southSceneFront" draggable="false">
                <button type="button" id="southDoor" onClick="enterBackrooms()"></button>
            </section>

            <section id="southBack" class="room">
                <img src="images/gameAssets/rooms/south/southSceneBack.svg" alt="southSceneBack" draggable="false">
            </section>

            <!-- WEST ROOM -->
            <section id="west" class="room">
                <img src="images/gameAssets/rooms/west/westScene.svg" alt="westScene" draggable="false">
                <button popovertarget="westCrate-zoomedin">
                    <img src="images/gameAssets/rooms/west/westCrate.svg" alt="westCrate" id="westCrate" draggable="false">
                </button>
                <div id="westCrate-zoomedin" popover>
                    <img src="images/gameAssets/rooms/west/openCrate.svg" draggable="false" id="westCrate-zoomedimg">
                    <button popovertarget="westCrate-zoomedin" popovertargetaction="hide"><img src="images/gameAssets/downArrow.svg" alt=""></button>
                </div>
            </section>

            <!-- Visual Novel View -->
            <section id="vnView">
                <img src="images/gameAssets/vn/shopbg.png" draggable="false">
                <img src="images/characters/osumi_3.png" id="osumiVn" draggable="false">
                <div id="dialogueWrap">
                    <div id="dialogueBubble">
                    <p id="day1D"></p>
                </div>

                <div id="dialogueArrow"></div>
                </div>
                <img src="images/gameAssets/vn/vnCounter.svg" draggable="false" id="vnCounter">

                <div id="playerDialogue">
                    <div id="playerDialogueWrap">
                        <div id="playerRow">
                            <p id="day1PD"></p>
                            <div id="playerDialogueArrow"></div>
                        </div>
                       
                    </div>
                </div>
            </section>
        </div>

        <!-- fade out animation -->
        <div id="fade"><p id="dayCounter"></p></div>
    </main>
    <div id="small">Your browser is too small to play this game. Try resizing it!</div>
    <div id="touch">It appears you're using a touch device. Please play this game with a desktop and mouse!</div>
</body>
<script src="script.js"></script>
<script src="https://unpkg.com/@lottiefiles/dotlottie-wc@0.8.11/dist/dotlottie-wc.js" type="module"></script>
<!--
<dotlottie-wc src="https://lottie.host/48ec130e-494f-4763-8374-fd58c19b0cb5/OkUB8yLHhU.lottie" style="width: 300px;height: 300px" autoplay loop></dotlottie-wc>
-->
<script type="module" src="https://ajax.googleapis.com/ajax/libs/model-viewer/4.1.0/model-viewer.min.js"></script>
<!-- Import model-viewer -->
</html>